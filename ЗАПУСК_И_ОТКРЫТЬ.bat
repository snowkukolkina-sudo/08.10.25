@echo off
chcp 65001 >nul

echo.
echo ‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
echo ‚ïë         üöÄ –ó–∞–ø—É—Å–∫ DANDY POS Server                      ‚ïë
echo ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù
echo.

REM –£–±–∏–≤–∞–µ–º —Å—Ç–∞—Ä—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã Node.js
taskkill /F /IM node.exe >nul 2>nul

REM –ó–∞–ø—É—Å–∫–∞–µ–º —Å–µ—Ä–≤–µ—Ä –≤ –Ω–æ–≤–æ–º –æ–∫–Ω–µ
echo –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞ –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º –æ–∫–Ω–µ...
start "DANDY POS Server" "%~dp0–ó–ê–ü–£–°–ö_–°–ï–†–í–ï–†–ê_v2.bat"

REM –ñ–¥–µ–º –Ω–µ–º–Ω–æ–≥–æ —á—Ç–æ–±—ã —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å—Ç–∏–ª—Å—è
echo –û–∂–∏–¥–∞–Ω–∏–µ –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞...
timeout /t 5 /nobreak >nul

REM –ü—Ä–æ–≤–µ—Ä—è–µ–º —á—Ç–æ —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å—Ç–∏–ª—Å—è
netstat -an | find ":3000" >nul
if %ERRORLEVEL% EQU 0 (
    echo ‚úÖ –°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω —É—Å–ø–µ—à–Ω–æ!
    echo.
    echo –û—Ç–∫—Ä—ã—Ç–∏–µ –±—Ä–∞—É–∑–µ—Ä–∞...
    echo.
    
    REM –û—Ç–∫—Ä—ã–≤–∞–µ–º –±—Ä–∞—É–∑–µ—Ä
    start "" "http://localhost:3000/"
    timeout /t 2 /nobreak >nul
    start "" "http://localhost:3000/admin.html"
    
    echo.
    echo ‚úÖ –ì–æ—Ç–æ–≤–æ!
    echo.
    echo üìù –î–∞–Ω–Ω—ã–µ –¥–ª—è –≤—Ö–æ–¥–∞:
    echo    –õ–æ–≥–∏–Ω: 111
    echo    –ü–∞—Ä–æ–ª—å: 111
    echo    –°–∞–π—Ç: 111
    echo.
    echo üí° –û–∫–Ω–æ —Å–µ—Ä–≤–µ—Ä–∞ –º–æ–∂–Ω–æ —Å–≤–µ—Ä–Ω—É—Ç—å, –Ω–æ –Ω–µ –∑–∞–∫—Ä—ã–≤–∞—Ç—å!
    echo.
) else (
    echo ‚ùå –û—à–∏–±–∫–∞: –°–µ—Ä–≤–µ—Ä –Ω–µ –∑–∞–ø—É—Å—Ç–∏–ª—Å—è!
    echo –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –æ–∫–Ω–æ —Å–µ—Ä–≤–µ—Ä–∞ –¥–ª—è –¥–µ—Ç–∞–ª–µ–π.
    echo.
)

timeout /t 3
